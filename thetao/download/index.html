<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

    <title>ã€ŠEldrealm Tao: Surviveã€‹Download page</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
    <link rel="icon" href="../moban_files/favicon.ico">
    <link rel="stylesheet" type="text/css" href="../moban_files/common.css">
    <link rel="stylesheet" type="text/css" href="../moban_files/style.css">
    <script type="text/javascript" src="../moban_files/jquery.js"></script>
    <style type="text/css">
        html,
        body,
        .warp {
            height: 100%;
        }
    </style>
</head>

<body>
    <div class="warp">
        <div class="transfer">
            <!-- style="position: absolute; top:10%; z-index: 1;" -->
            <img class="download-tips hid" src="../moban_files/transfer_ios.png" alt="">
            <img class="download-bg" src="../moban_files/down-en.m.jpg" alt="">
        </div>
    </div>
    <script>
        var download1 = { "url": "https://play.google.com/store/apps/details?id=io.github.firewingstudio.taoshadow", "type": "android", "id": "", "bg": "", "tips": 1 };

        var download2 = { "url": "", "type": "ios", "id": "", "bg": "", "tips": 2 };
    </script>

    <script type="text/javascript">
        var ua = window.navigator.userAgent.toLowerCase();
        function iOS() {
            return navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);
        }
        function isWeiXin() {
            if (ua.match(/MicroMessenger/i) == 'micromessenger') {
                return true;
            } else {
                return false;
            }
        }
        function isWeibo() {
            if (ua.indexOf("weibo") > 0) {
                return true;
            } else {
                return false;
            }
        }
        window.onload = function () {
            // $.ajax({
            //     dataType: "jsonp",
            //     jsonp: "jsonpcallback",
            //     url: "",
            //     data: {
            //         "code": download.id,
            //         "mobileDownload.osType": download.type,
            //         "mobileDownload.client": "mobile"
            //     }
            // });

            if (isWeibo() && iOS() === null) {
                //å¾®åšè®¿é—®ï¼Œæç¤ºç”¨å¤–éƒ¨æµè§ˆå™¨æ‰“å¼€
                $('.download-tips').removeClass('hid');
            }

            if (isWeiXin() && iOS() === null) {
                //å¾®ä¿¡è®¿é—®ä¸”ä¸‹è½½åœ°å€æ˜¯apkï¼Œæç¤ºç”¨å¤–éƒ¨æµè§ˆå™¨æ‰“å¼€
                $('.download-tips').removeClass('hid');
            } else {
                // $('.download-bg').removeClass('hid');

                //éå¾®ä¿¡è®¿é—®ï¼Œç›´æ¥æ¨é€åœ°å€
                // window.location.href = download.url;

                let u = navigator.userAgent;
                if (u.indexOf("Android") > -1 || u.indexOf("Linux") > -1) {
                    console.log("Android");
                    window.location.href = download1.url;
                } else if (u.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)) {
                    console.log("iOS");
                    if (download2.url === "") {
                        document.getElementById('donateModal').style.display = 'block';
                        if (window.outerWidth >= 450) {
                            document.getElementById('donateModal').style.minWidth = '410px';
                        }
                        return;
                    }
                    window.location.href = download2.url;
                }
            }
        }
    </script>

    <!-- <script type="text/javascript">
        if (!share_opts) {
            // åˆ†äº«é…ç½®
            var share_opts = {
                title: 'ç«ç¿¼æ¸¸æˆå¹³å° - æ¸¸æˆå‘çƒ§å‹çš„èšé›†åœ°ï¼',
                desc: 'çœŸæ­£æœ‰è¶£å¥½ç©çš„æ¸¸æˆéƒ½åœ¨è¿™é‡Œ',
                img: '../moban_files/share_icon.jpg',
                url: location.href.split('#')[0],
                key: 'game_index'
            };
        }
        weixin_jssdk_ops.init(share_opts);
    </script> -->

    <style>
        #donateModal {
            display: none; /* é»˜è®¤éšè— */
            position: fixed; /* å›ºå®šä½ç½® */
            z-index: 1; /* ç½®äºé¡¶å±‚ */
            left: 50%;
            top: 45%;
            transform: translate(-50%, -50%);
            width: auto; /* å®½åº¦ */
            height: auto; /* é«˜åº¦ */
            overflow: auto; /* å¦‚æœéœ€è¦æ»šåŠ¨æ¡ */
            background-color: rgba(0,0,0,0.7); /* èƒŒæ™¯é¢œè‰²ï¼Œå¸¦é€æ˜åº¦ */
            padding: 1vw;
            line-height: 1.2;
            font-size: small;
            min-height: 330px;
            color: #c7c7c8;
        }
    </style>

    <script>
        function closeModal() {
            document.getElementById('donateModal').style.display = 'none';
        }
    </script>

    <div id="donateModal" style="display:none;">
        <!-- æèµ é¡µé¢çš„å†…å®¹ -->
        <h2>Donate for iOS</h2>
        <br/>
        <p><b>Support Firewings Game Studio</b></p>
        <p><b>Eldrealm Tao: Survive</b> is now live on <b>Google Play!</b></p>
        <p>The iOS version is currently in development and coming soon.</p>
        <p>ğŸ”¥ Support us by playing, sharing, or sponsoring.</p>
        <br/>
        <!-- ä¾‹å¦‚ï¼Œæ”¯ä»˜å®ã€å¾®ä¿¡æ”¯ä»˜äºŒç»´ç  -->
        <p>Alipay</p>
        <img src="../moban_files/alipay_qr.png" alt="æ”¯ä»˜å®æèµ ">
        &nbsp;&nbsp;&nbsp;&nbsp;
        <img src="../moban_files/wechatpay_qr.png" alt="å¾®ä¿¡æèµ ">
        <div style="display: flex; justify-content: flex-end; margin-top: -212px;"><p>WeChatPay</p></div>
        <button style="position: absolute;top:2vw;right:1vw;" onclick="closeModal()">CLOSE</button>
    </div>


</body>

</html>